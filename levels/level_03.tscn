[gd_scene load_steps=22 format=3 uid="uid://cq5sf3fg38dtf"]

[ext_resource type="Material" uid="uid://ctd55tbm5xssh" path="res://asset/Shader/Sky/night.tres" id="1_6hrdw"]
[ext_resource type="Script" uid="uid://dgxccv80klhc7" path="res://scripts/Tower/TowerCon.gd" id="3_2wlag"]
[ext_resource type="PackedScene" uid="uid://dfql5k5psmgxn" path="res://scenes/Tower/TowerSpot.tscn" id="4_3ew82"]
[ext_resource type="PackedScene" uid="uid://cjhp6v8qnx4qm" path="res://scenes/Tower/Tower.tscn" id="5_0bj1y"]
[ext_resource type="PackedScene" path="res://asset/Envi/env_lvl_3_ground.tscn" id="5_wq170"]
[ext_resource type="PackedScene" uid="uid://csob2dk5jrcb5" path="res://asset/Envi/fireflies.tscn" id="6_6181x"]
[ext_resource type="PackedScene" path="res://asset/Envi/props_lvl_3.tscn" id="6_wq170"]
[ext_resource type="PackedScene" uid="uid://dr5mh3wmxd7uu" path="res://scenes/Base.tscn" id="8_2la83"]
[ext_resource type="Script" uid="uid://bpdh0cu6naavy" path="res://scripts/Tower/inputtower.gd" id="9_myllq"]
[ext_resource type="Script" uid="uid://g85gwfmcln8s" path="res://scripts/Tower/Tower_Res.gd" id="10_k7dv5"]
[ext_resource type="Resource" uid="uid://bk8grfmo48v2h" path="res://resources/res_tower/kaelio.tres" id="11_jx2nq"]
[ext_resource type="Resource" uid="uid://dvfphesh2a4nj" path="res://resources/res_tower/lilitia.tres" id="12_my8pt"]
[ext_resource type="Resource" uid="uid://buqk2061a1dx5" path="res://resources/res_tower/morriden.tres" id="13_phrv1"]
[ext_resource type="Resource" uid="uid://bhwlp2kr8e0ir" path="res://resources/res_tower/silvanna.tres" id="14_t7pr7"]
[ext_resource type="Script" uid="uid://bbexpquh4b3ip" path="res://scripts/UI/UI.gd" id="15_q5run"]
[ext_resource type="Script" uid="uid://4ipxb665lopb" path="res://scripts/WaveManager.gd" id="16_lbtiq"]
[ext_resource type="Script" path="res://resources/WaveConfig.gd" id="17_bueam"]
[ext_resource type="Resource" uid="uid://dgw4ukvn22bjs" path="res://resources/WaveData/Level 1/Wave1_lvl1.tres" id="18_u6lkg"]
[ext_resource type="Script" path="res://scripts/LevelInit.gd" id="19_vxifu"]

[sub_resource type="Sky" id="Sky_2qse1"]
sky_material = ExtResource("1_6hrdw")

[sub_resource type="Environment" id="Environment_xxuo2"]
background_energy_multiplier = 0.25
sky = SubResource("Sky_2qse1")
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.0
tonemap_mode = 2
glow_enabled = true
glow_normalized = true
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0.3979408, 0.5685658, 0.7184154, 1)
fog_light_energy = 0.15
fog_density = 1.0
volumetric_fog_density = 0.0

[node name="Level03" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_xxuo2")

[node name="fireflies" parent="WorldEnvironment" instance=ExtResource("6_6181x")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 4.950532, 2.130024, -1.8374262)

[node name="fireflies2" parent="WorldEnvironment" instance=ExtResource("6_6181x")]
transform = Transform3D(1.9728585, 0, -0.32837367, 0, 2, 0, 0.32837367, 0, 1.9728585, 10.279172, 2.130024, -1.6377995)

[node name="fireflies6" parent="WorldEnvironment" instance=ExtResource("6_6181x")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 4.950532, 2.130024, 5.4394264)

[node name="fireflies7" parent="WorldEnvironment" instance=ExtResource("6_6181x")]
transform = Transform3D(1.9728585, 0, -0.32837367, 0, 2, 0, 0.32837367, 0, 1.9728585, 10.279172, 2.130024, 5.6390533)

[node name="fireflies3" parent="WorldEnvironment" instance=ExtResource("6_6181x")]
transform = Transform3D(1.9728585, 0, -0.32837367, 0, 2, 0, 0.32837367, 0, 1.9728585, 11.98732, 2.130024, 2.3398056)

[node name="fireflies4" parent="WorldEnvironment" instance=ExtResource("6_6181x")]
transform = Transform3D(1.9728585, 0, -0.32837367, 0, 2, 0, 0.32837367, 0, 1.9728585, 7.231637, 2.130024, 2.5220954)

[node name="fireflies5" parent="WorldEnvironment" instance=ExtResource("6_6181x")]
transform = Transform3D(1.9728585, 0, -0.32837367, 0, 2, 0, 0.32837367, 0, 1.9728585, 1.666769, 2.130024, 2.1884544)

[node name="OmniLight3D" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.80619, 2.3672886, -2.8323064)
light_color = Color(1, 0.45999998, 0.45999998, 1)
omni_range = 9.54
omni_attenuation = 1.194

[node name="OmniLight3D2" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5336218, 2.3672886, -3.5502186)
light_color = Color(1, 0.45999998, 0.45999998, 1)
omni_range = 9.54
omni_attenuation = 1.194

[node name="OmniLight3D3" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5336218, 2.3672886, 3.934719)
light_color = Color(1, 0.45999998, 0.45999998, 1)
omni_range = 9.54
omni_attenuation = 1.194

[node name="ENV lvl 3 ground" parent="WorldEnvironment" instance=ExtResource("5_wq170")]

[node name="Props lvl 3" parent="WorldEnvironment" instance=ExtResource("6_wq170")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.37870607, -0.74707997, -0.5463085, -0.49369705, -0.6623454, 0.5635261, -0.7828441, 0.056300182, -0.6196655, 0, 10, 2.6227646)
visible = false
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 0.0
shadow_enabled = true
shadow_bias = 0.0
shadow_normal_bias = 1.794
shadow_reverse_cull_face = true
shadow_transmittance_bias = 16.0
shadow_blur = 0.0

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.60181504, 0.79863554, 0, -0.79863554, 0.60181504, 7, 21, 16)
current = true
fov = 22.5

[node name="TowerCon" type="Node" parent="." groups=["towercon"]]
script = ExtResource("3_2wlag")

[node name="TowerSpot1" parent="TowerCon" instance=ExtResource("4_3ew82")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.75, 1, -2)
tower_scene = ExtResource("5_0bj1y")

[node name="TowerSpot2" parent="TowerCon" instance=ExtResource("4_3ew82")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.25, 1, -2)
tower_scene = ExtResource("5_0bj1y")

[node name="TowerSpot3" parent="TowerCon" instance=ExtResource("4_3ew82")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 1, 2)
tower_scene = ExtResource("5_0bj1y")

[node name="TowerSpot4" parent="TowerCon" instance=ExtResource("4_3ew82")]
transform = Transform3D(0.99999994, 0, 0, 0, 1, 0, 0, 0, 0.99999994, 7.25, 1, 2)
tower_scene = ExtResource("5_0bj1y")

[node name="TowerSpot5" parent="TowerCon" instance=ExtResource("4_3ew82")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 2)
tower_scene = ExtResource("5_0bj1y")

[node name="TowerSpot6" parent="TowerCon" instance=ExtResource("4_3ew82")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.95, 1, 5.848)
tower_scene = ExtResource("5_0bj1y")

[node name="TowerSpot7" parent="TowerCon" instance=ExtResource("4_3ew82")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 1, 5.848)
tower_scene = ExtResource("5_0bj1y")

[node name="Base" parent="." instance=ExtResource("8_2la83")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.549942, 0, 4.1265583)
max_hp = 10

[node name="Input" type="Node" parent="." groups=["towerinput"]]
script = ExtResource("9_myllq")
tower_list = Array[ExtResource("10_k7dv5")]([ExtResource("11_jx2nq"), ExtResource("12_my8pt"), ExtResource("13_phrv1"), ExtResource("14_t7pr7")])

[node name="TxtPanel" type="Panel" parent="Input"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -119.5
offset_right = 119.5
offset_bottom = 98.0
grow_horizontal = 2
size_flags_horizontal = 4

[node name="Label" type="Label" parent="Input/TxtPanel"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -11.5
offset_right = 20.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2

[node name="UI" type="CanvasLayer" parent="."]
script = ExtResource("15_q5run")

[node name="Panel" type="Panel" parent="UI"]
offset_left = 10.0
offset_top = 10.0
offset_right = 210.0
offset_bottom = 110.0

[node name="VBoxContainer" type="VBoxContainer" parent="UI/Panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2

[node name="HPLabel" type="Label" parent="UI/Panel/VBoxContainer"]
layout_mode = 2
text = "Base HP: 20"

[node name="CurrencyLabel" type="Label" parent="UI/Panel/VBoxContainer"]
layout_mode = 2
text = "Currency: 100"

[node name="WaveLabel" type="Label" parent="UI/Panel/VBoxContainer"]
layout_mode = 2
text = "Wave: 0"

[node name="Label" type="Label" parent="UI"]
offset_right = 40.0
offset_bottom = 23.0

[node name="WaveManager" type="Node" parent="."]
script = ExtResource("16_lbtiq")
wave_configs = Array[ExtResource("17_bueam")]([ExtResource("18_u6lkg")])
metadata/_custom_type_script = "uid://4ipxb665lopb"

[node name="LevelInit" type="Node" parent="."]
script = ExtResource("19_vxifu")
