[gd_scene load_steps=27 format=3 uid="uid://dotj22b2oyv68"]

[ext_resource type="Texture2D" uid="uid://cgw8v64qa3q5v" path="res://asset/Vfx/Texture/Muzzle.png" id="1_f7du8"]
[ext_resource type="ArrayMesh" uid="uid://t0ogf7v8en0f" path="res://asset/Vfx/Obj/MuzzlePlane.obj" id="2_ornhe"]
[ext_resource type="Texture2D" uid="uid://dbnq13jiha8oc" path="res://asset/Vfx/Texture/T_VFX_Glo31.png" id="3_ujau8"]
[ext_resource type="Texture2D" uid="uid://d2i4b8n2qgd45" path="res://asset/Vfx/Texture/T_VFX_Flare_251.jpg" id="4_da2ke"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_st83g"]
transparency = 1
blend_mode = 1
cull_mode = 2
shading_mode = 0
vertex_color_use_as_albedo = true
vertex_color_is_srgb = true
albedo_texture = ExtResource("1_f7du8")

[sub_resource type="Curve" id="Curve_slhbm"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_ev502"]
curve = SubResource("Curve_slhbm")

[sub_resource type="Curve" id="Curve_5gibh"]
_data = [Vector2(0, 0), 0.0, 0.8191749, 0, 0, Vector2(0.9974554, 0.5251423), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_y62ct"]
curve = SubResource("Curve_5gibh")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_la7wn"]
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_y62ct")
color = Color(1, 0.735357, 0, 1)
alpha_curve = SubResource("CurveTexture_ev502")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_v2xyl"]
transparency = 1
blend_mode = 1
cull_mode = 2
shading_mode = 0
vertex_color_use_as_albedo = true
vertex_color_is_srgb = true
albedo_texture = ExtResource("3_ujau8")
billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="Curve" id="Curve_ne0me"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_wq6b2"]
curve = SubResource("Curve_ne0me")

[sub_resource type="Curve" id="Curve_k5a1i"]
_data = [Vector2(0, 0), 0.0, 0.8191749, 0, 0, Vector2(0.9974554, 0.5251423), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_kxetd"]
curve = SubResource("Curve_k5a1i")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_vf1u8"]
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_kxetd")
color = Color(0.99999994, 0.8966448, 0.74775165, 1)
alpha_curve = SubResource("CurveTexture_wq6b2")

[sub_resource type="QuadMesh" id="QuadMesh_rurkf"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_55wv7"]
transparency = 1
blend_mode = 1
cull_mode = 2
shading_mode = 0
vertex_color_use_as_albedo = true
vertex_color_is_srgb = true
albedo_texture = ExtResource("4_da2ke")

[sub_resource type="Curve" id="Curve_j2asv"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 0.055009842), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_xq14b"]
curve = SubResource("Curve_j2asv")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_np0fy"]
lifetime_randomness = 1.0
angle_min = 1.0728835e-05
angle_max = 90.000015
direction = Vector3(0, 0, -1)
initial_velocity_min = 5.0
initial_velocity_max = 20.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_xq14b")
color = Color(1, 0.6553385, 0, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_fu6hp"]

[sub_resource type="Animation" id="Animation_p0bpt"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Muzzle:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Flash:emitting")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sparks:emitting")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("OmniLight3D:light_energy")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [4.0]
}

[sub_resource type="Animation" id="Animation_bocd8"]
resource_name = "gun"
length = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Muzzle:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.05),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Flash:emitting")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.05),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sparks:emitting")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.05),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("OmniLight3D:light_energy")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.02, 0.03, 0.07),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.0, 4.0, 0.0]
}

[sub_resource type="Animation" id="Animation_f7du8"]
resource_name = "gun_slow"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Muzzle:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.4),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Flash:emitting")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.4),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sparks:emitting")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.4),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("OmniLight3D:light_energy")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.35, 0.45, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.0, 4.0, 0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_bdanm"]
_data = {
&"RESET": SubResource("Animation_p0bpt"),
&"gun": SubResource("Animation_bocd8"),
&"gun_slow": SubResource("Animation_f7du8")
}

[node name="Gun" type="Node3D"]
transform = Transform3D(-0.054437257, 0.30212614, -0.95171237, -0.9841523, -0.17732517, -6.8722894e-09, -0.16876255, 0.93662995, 0.30699116, 0.2427504, -0.1719296, 0.28618443)

[node name="Muzzle" type="GPUParticles3D" parent="."]
material_override = SubResource("StandardMaterial3D_st83g")
amount = 1
lifetime = 0.1
one_shot = true
randomness = 1.0
fixed_fps = 60
process_material = SubResource("ParticleProcessMaterial_la7wn")
draw_pass_1 = ExtResource("2_ornhe")

[node name="Flash" type="GPUParticles3D" parent="."]
material_override = SubResource("StandardMaterial3D_v2xyl")
amount = 1
lifetime = 0.1
one_shot = true
randomness = 1.0
fixed_fps = 60
process_material = SubResource("ParticleProcessMaterial_vf1u8")
draw_pass_1 = SubResource("QuadMesh_rurkf")

[node name="Sparks" type="GPUParticles3D" parent="."]
transform = Transform3D(-4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0, 1, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_55wv7")
lifetime = 0.2
one_shot = true
explosiveness = 1.0
randomness = 1.0
process_material = SubResource("ParticleProcessMaterial_np0fy")
draw_pass_1 = SubResource("PlaneMesh_fu6hp")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
light_color = Color(0.9999997, 0.75538033, 0.5707803, 1)
light_energy = 4.0
omni_range = 4.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_bdanm")
}
